## Part 1. Installation of the OS
1. Check Ubuntu version by running the command \
  `cat /etc/issue`

2. Add a screenshot of the command output to the report.

![](./image/Part1/P_1.png)

## Part 2. Creating a user
1. Add a screenshot of command call to create user.

![](./image/Part2/P_2_1.png)

2. The new user must be in the output of the command: \
  `cat /etc/passwd`
  
3. Add a screenshot of the command output.

![](./image/Part2/P_2_2.png)

## Part 3. Setting up the OS network
1. Set the machine name as user-1
         
- sudo vim /etc/hostname
- sudo vim /etc/hostname
- reboot        
   
![](./image/Part3/P_3_1_1.png)  ![](./image/Part3/P_3_1_2.png)  

2. Set the time zone corresponding to your current location.

![](./image/Part3/P_3_2_1.png) ![](./image/Part3/P_3_2_2.png)

3. Output the names of the network interfaces using a console command.

- sudo apt install net-tools

![](./image/Part3/P_3_3.png)

- lo (loopback device) – виртуальный интерфейс, присутствующий по умолчанию в любом Linux. Он используется для отладки сетевых программ и запуска серверных приложений на локальной машине. С этим интерфейсом всегда связан адрес 127.0.0.1. У него есть dns-имя – localhost.

4. Use the console command to get the ip address of the device you are working on from the DHCP server.

![](./image/Part3/P_3_4.png)

- Протокол динамической конфигурации узлов (Dynamic Host Configuration Protocol, DHCP) — это сетевой протокол, используемый для автоматического получения узлами IP-адресов и сетевой конфигурации с сервера.

5. Define and display the external ip address of the gateway (ip) and the internal IP address of the gateway, aka default ip address (gw).

* внешний ip-адрес шлюза (ip):    

![](./image/Part3/P_3_5_1.png)

* внутренний IP-адрес шлюза:    

![](./image/Part3/P_3_5_2.png)

6. Set static (manually set, not received from DHCP server) ip, gw, dns settings (use public DNS servers, e.g. 1.1.1.1 or 8.8.8.8).

- sudo vim /etc/netplan/*.yaml

![](./image/Part3/P_3_6_1.png) ![](./image/Part3/P_3_6_2.png)  

7. Reboot the virtual machine. Make sure that the static network settings (ip, gw, dns) correspond to those set in the previous point.

- reboot

![](./image/Part3/P_3_7_1.png)


##  №4.  Обновление ОС
1. Обновить системные пакеты до последней на момент выполнения задания версии
![](./4.png)
## №5. Использование команды sudo
1. Разрешить пользователю, созданному в Part 2, выполнять команду sudo.  
Sudo — это утилита, предоставляющая привилегии root для выполнения административных операций в соответствии со своими настройками. Она позволяет легко контролировать доступ к важным приложениям в системе. По умолчанию, при установке Ubuntu первому пользователю (тому, который создаётся во время установки) предоставляются полные права на использование sudo. Т.е. фактически первый пользователь обладает той же свободой действий, что и root. 
![](./5.png)
## №6. Установка и настройка службы времени
1. Настроить службу автоматической синхронизации времени.   
Вывод следующей команды должен содержать NTPSynchronized=yes: 
timedatectl show
![](./6.png)
## №7. Установка и использование текстовых редакторов
1. Установить текстовые редакторы VIM (+ любые два по желанию NANO, MCEDIT, JOE и т.д.)   
sudo apt install vim    
sudo apt install nano    
sudo apt install mcedit
2. Используя каждый из трех выбранных редакторов, создайте файл test_X.txt, где X -- название редактора, в котором создан файл. Напишите в нём свой никнейм, закройте файл с сохранением изменений.
3. Используя каждый из трех выбранных редакторов, откройте файл на редактирование, отредактируйте файл, заменив никнейм на строку "21 School 21", закройте файл без сохранения изменений.
4. Используя каждый из трех выбранных редакторов, отредактируйте файл ещё раз (по аналогии с предыдущим пунктом), а затем освойте функции поиска по содержимому файла (слово) и замены слова на любое другое.
### VIM
1. ![](./7.1.png)
2. ![](./7.2.png)
3. ![](./7.3.png)
4. ![](./7.4.png)
5. ![](./7.5.png)
* vim test_VIM.txt   
* Режим редактирования: I   
* Выйти из режима редактирования: esc   
* Выход с охранением: :wq     
* Выход без сохранения: :q        
* Поиск: /<текст, который хотим найти>    
* Замена: :s/<что хотим изменить>/<на что хотим заменить>
### MCEDIT
1. ![](./7.6.png)
2. ![](./7.7.png)
3. ![](./7.8.png)
4. ![](./7.9.png)
5. ![](./7.10.png)
6. ![](./7.11.png)
* mcedit test_mcedit.txt       
* Выход с охранением: F2 (yes) + F10
* Выход без сохранения: F10(no)        
* Поиск: F7 + <текст который ищем> + <ок>  
* Замена: F4 + <что хотим изменить> + <на что хотим заменить> + replace
### NANO
1.![](./7.12.png)     
2.![](./7.13.png)      
3.![](./7.14.png)
4.![](./7.15.png)
* nano test_NANO.txt       
* Выход с охранением: CTRL + x, затем y  b enter
* Выход без сохранения: CTRL + x, затем n       
* Поиск: CTRL + W, затем enter (alt + w для перехода к след. вхождению, ctrl + c  для преращения поиска)
* Замена: CTRL + \+ <что хотим изменить + enter> + <на что хотим заменить + enter> + A(для замены все вхождения) или y и n по отдельности
## №8. Установка и базовая настройка сервиса SSHD
1. Установить службу SSHd.
* sudo apt-get install ssh
* sudo apt install openssh-server
![](./8.1.png)
2. Добавить автостарт службы при загрузке системы.
* sudo systemctl enable ssh
* systemctl status ssh
![](./8.2.png)
3. Перенастроить службу SSHd на порт 2022.
* sudo vim /etc/ssh/sshd_config
![](./8.3.png)
* systemctl restart sshd
4. Используя команду ps, показать наличие процесса sshd. Для этого к команде нужно подобрать ключи.
* ps (показывает запущенные процессы, выполняемые пользователем в окне терминала);
* ps -e или ps -A (Чтобы просмотреть все запущенные процессы);
* ps -d (Чтобы показать все процессы, кроме лидеров сессии);
* ps -d -N (можно инвертировать вывод с помощью переключателя -N. Например, если хочу вывести только лидеров сеансов)
* ps T (увидеть только процессы, связанные с этим терминалом);
* ps r (просмотреть все работающие (running) процессы);
* ps -p 'pid' (если вы знаете идентификатор процесса PID, вы можете просто использовать следующую команду, для вывода процесса с этим 'pid');
* ps -p 'pid1' 'pid2'
* ps U 'userlist' (найти все процессы, выполняемые конкретным пользователем);
* ps -ef (получить полный список);
![](./8.4.png)
5. Перезагрузить систему
### NETSTAT
![](./8.5.png)
* -t (--tcp) отображает соедниеня только по tcp
* -a (--all) вывод всех активных подключений TCP 
* -n (--numeric) вывод активных подключений TCP с отображением адресов и номеров портов в числовом формате
* Proto: Название протокола (протокол TCP или протокол UDP);
* recv-Q: очередь получения сети
* send-Q: Сетевая очередь отправки
* Local Address адрес локального компьтера и используемы номер порта
* Foreign Address адрес и номер удаленного компьтера к которомц подключен сокет
* State состояние сокетв
* 0.0.0.0 означает IP-адрес на локальной машине
## №9. Установка и использование утилит top, htop
### Установить и запустить утилиты top и htop
1. По выводу команды top определить и написать в отчёте:
* uptime - 45min;
* количество авторизованных пользователей - 1;
* общую загрузку системы - 0.00, 0.00, 0.00
* общее количество процессов - 97;
* загрузку cpu - 0.3%;
* загрузку памяти - 150,7/976,9;
* pid процесса занимающего больше всего памяти - 723 (top -o %MEM);
* pid процесса, занимающего больше всего процессорного времени - 655 (top -o %CPU);
2. В отчёт вставить скрин с выводом команды htop:
* отсортированному по PID, PERCENT_CPU, PERCENT_MEM, TIME
![](./9.1.png)
![](./9.2.png)
![](./9.3.png)
![](./9.4.png)
* отфильтрованному для процесса sshd
![](./9.5.png)
* с процессом syslog, найденным, используя поиск
![](./9.6.png)
* с добавленным выводом hostname, clock и uptime
![](./9.7.png)
## №10. Использование утилиты fdisk
1. Запустить команду fdisk -l.
![](./10.1.png)
* название жесткого диска - vbox harddisk;
* размер - 10GiB;
* количество секторов - 20971520;
* размер swap - 1,7GiB.
![](./10.2.png)
## №11. Использование утилиты df
1. Запустить команду df.
В отчёте написать для корневого раздела (/):
* размер раздела - 9299276;
* размер занятого пространства - 4546380;
* размер свободного пространства - 4258920;
* процент использования - 52%;   
Определить и написать в отчёт единицу измерения в выводе - килобайт
2. Запустить команду df -Th.   
В отчёте написать для корневого раздела (/):
* размер раздела - 8.9G;
* размер занятого пространства - 4.4G;
* размер свободного пространства - 4.1G;
* процент использования  - 52%   
Определить и написать в отчёт тип файловой системы для раздела - ext4.
![](./11.png)
## №12. Использование утилиты du
1. Запустить команду du.
2. * Вывести размер папок /home, /var, /var/log (в байтах)
![](./12.1.png)
* Вывести размер папок /home, /var, /var/log (в человекочитаемом виде)
![](./12.2.png)
3. Вывести размер всего содержимого в /var/log (не общее, а каждого вложенного элемента, используя *)
![](./12.3.png)
## №13. Установка и использование утилиты ncdu            
1. Установить утилиту ncdu.    
sudo apt-get install ncdu    
Вывести размер папок /home, /var, /var/log.
![](./13.1.png)
![](./13.2.png)
![](./13.3.png)
## №14. Работа с системными журналами   
sudo vim /var/log/dmesg     
sudo vim /var/log/syslog          
sudo vim /var/log/auth.log          
1. Написать в отчёте время последней успешной авторизации, имя пользователя и метод входа в систему (18:09:54; orvillek by LOGIN)
2. Перезапустить службу SSHd.    
sudo systemctl restart ssh
3. Вставить в отчёт скрин с сообщением о рестарте службы (искать в логах).
![](./14.png)
## №15. Использование планировщика заданий CRON
1. Используя планировщик заданий, запустите команду uptime через каждые 2 минуты.
![](./15.1.png)
* Найти в системных журналах строчки (минимум две в заданном временном диапазоне) о выполнении.
![](./15.2.png)
* Вывести на экран список текущих заданий для CRON.
* Вставить в отчёт скрины со строчками о выполнении и списком текущих задач
2. Удалите все задания из планировщика заданий.
* В отчёт вставьте скрин со списком текущих заданий для CRON.
![](./15.3.png)